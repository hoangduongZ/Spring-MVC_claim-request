<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layouts/layout">
<head>
    <meta charset="UTF-8">
    <title>Add New Project</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
    </style>
    <script>
        function addRow() {
            const table = document.getElementById('employeeTable');
            const newRow = table.insertRow();
            newRow.innerHTML = `
                <td class="border px-4 py-2">
                    <select name="employeeName" class="border rounded py-1 px-2">
                        <option value="1">John Doe</option>
                        <option value="2">Jane Smith</option>
                        <option value="3">Emily Johnson</option>
                    </select>
                </td>
                <td class="border px-4 py-2">
                    <select name="role" class="border rounded py-1 px-2">
                        <option value="member">Member</option>
                        <option value="manager">Manager</option>
                        <option value="admin">Admin</option>
                    </select>
                </td>
                <td class="border px-4 py-2 text-center"><button type="button" class="bg-red-500 hover:bg-red-600 text-white py-1 px-2 rounded" onclick="removeRow(this)">Remove</button></td>
            `;
        }

        function removeRow(button) {
            const row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }
    </script>
</head>
<body class="bg-purple-100">
<main layout:fragment="content" class="w-full mx-auto p-6">
    <div class="w-full flex bg-white shadow rounded-t-2xl p-3">
        <div class="w-8 h-8 block rounded-full bg-purple-400 hover:bg-purple-500 flex justify-center items-center"
             onclick="history.back()">
            <i class="fa-solid fa-chevron-left text-white"></i>
        </div>
    </div>
    <form action="@{/projects}" method="post" class="bg-white shadow-md rounded-b px-8  pb-8 mb-4">
        <h1 class="text-3xl text-center text-purple-600 font-bold mb-6">Add New Project</h1>
        <div class="mb-4">
            <label for="projectName" class="block text-gray-700 text-sm font-bold mb-2">Project Name:</label>
            <input type="text" id="projectName" name="projectName" required
                   class="shadow appearance-none border border-purple-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-purple-500">
        </div>

        <div class="mb-4">
            <label for="description" class="block text-gray-700 text-sm font-bold mb-2">Description:</label>
            <textarea id="description" name="description" rows="4" required
                      class="shadow appearance-none border border-purple-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-purple-500"></textarea>
        </div>

        <div class="mb-4">
            <label for="startDate" class="block text-gray-700 text-sm font-bold mb-2">Start Date:</label>
            <input type="date" id="startDate" name="startDate" required
                   class="shadow appearance-none border border-purple-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-purple-500">
        </div>

        <div class="mb-4">
            <label for="endDate" class="block text-gray-700 text-sm font-bold mb-2">End Date:</label>
            <input type="date" id="endDate" name="endDate" required
                   class="shadow appearance-none border border-purple-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-purple-500">
        </div>

        <div class="mb-4">
            <label for="budget" class="block text-gray-700 text-sm font-bold mb-2">Budget:</label>
            <input type="number" id="budget" name="budget" min="0" required
                   class="shadow appearance-none border border-purple-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-purple-500"
                   placeholder="Enter budget amount">
        </div>

        <h2 class="text-xl font-bold text-purple-600 mb-2">Select Employees</h2>
        <table id="employeeTable" class="mb-4 border border-gray-300">
            <thead class="bg-purple-200">
            <tr>
                <th class="border px-4 py-2">Employee Name</th>
                <th class="border px-4 py-2">Role</th>
                <th class="border px-4 py-2">Action</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="border px-4 py-2">
                    <select name="employeeName" class="border rounded py-1 px-2">
                        <option value="1">John Doe</option>
                        <option value="2">Jane Smith</option>
                        <option value="3">Emily Johnson</option>
                    </select>
                </td>
                <td class="border px-4 py-2">
                    <select name="role" class="border rounded py-1 px-2">
                        <option value="member">Member</option>
                        <option value="manager">Manager</option>
                        <option value="admin">Admin</option>
                    </select>
                </td>
                <td class="border px-4 py-2 text-center"><button type="button" class="bg-red-500 hover:bg-red-600 text-white py-1 px-2 rounded" onclick="removeRow(this)"> Remove</button></td>
            </tr>
            </tbody>
        </table>
        <div class="flex justify-end mt-2">
            <button type="button" onclick="addRow()" class="text-xl flex justify-center items-center font-bold bg-green-500 hover:bg-green-600 text-white  w-8 h-8 rounded-full focus:outline-none focus:shadow-outline">
                <span><i class="fa-solid fa-plus text-center"></i></span>
            </button>
        </div>
        <div class="flex items-center justify-between">
            <button type="submit"
                    class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline">
                Create Project
            </button>
        </div>
    </form>
</main>
</body>
</html>